{"version":3,"sources":["components/auth/auth.module.scss","components/productList/PLModal/modal.module.scss","state/common/store/registry.js","state/stores/ProductsStore.js","state/stores/AuthStore.js","state/withStore.js","components/product/index.jsx","components/productList/PLModal/modal.jsx","components/productList/index.jsx","components/auth/auth.jsx","App.jsx","index.js","state/common/store/state.js","state/common/store/store.js"],"names":["module","exports","Store","require","instance","this","stores","dispatch","bind","store","Error","name","storeName","type","payload","Object","keys","key","ADD_PRODUCT","REMOVE_PRODUCT","ProductsStore","data","products","options","shouldInitFromState","stateKey","reducers","action","state","index","findIndex","product","id","splice","Registry","addStore","SET_AUTH","AuthStore","auth","login","password","loginRemove","withStore","fill","getStore","Component","props","handleStoreUpdate","setState","subscribe","unsubscribe","React","displayName","Product","price","toLocaleString","maximumFractionDigits","minimumFractionDigits","currency","style","className","src","alt","title","description","onClick","removeProduct","Modal","idInput","useRef","titleInput","descriptionInput","priceInput","s","address","x","closeModal","ref","placeholder","required","inst","current","value","AddProduct","deleteItem","ProductList","modalShow","map","loginInput","passInput","useState","log","setlog","container","onSubmit","e","preventDefault","pass","err","form","AppCom","authShow","Header","logOut","openModal","App","ReactDOM","render","StrictMode","document","getElementById","initialConfig","config","getOptions","getReducers","listeners","initFromGlobalState","defaultOptions","shouldEmitAfterSubscription","undefined","defaultReducers","storeData","reducer","__emit","listener","_l","push","console","warn"],"mappings":"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","file":"static/js/main.51308054.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"auth_container__2tT85\",\"form\":\"auth_form__1B9Lp\",\"err\":\"auth_err__2ETNj\",\"x\":\"auth_x__18tmb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"address\":\"modal_address__1cf3Y\",\"x\":\"modal_x__1drC4\"};","const { Store } = require(\"./store\");\n\nclass Registry {\n  constructor() {\n    this.stores = {};\n\n    this.dispatch = this.dispatch.bind(this);\n  }\n\n  addStore(store) {\n    if (!store instanceof Store) {\n      throw new Error(\"Given value is not a store instance!\");\n    }\n\n    this.stores[store.name] = store;\n  }\n\n  getStore(storeName) {\n    return this.stores[storeName];\n  }\n\n  dispatch(type, payload) {\n    for (const key of Object.keys(this.stores)) {\n      this.stores[key].dispatch(type, payload);\n    }\n  }\n}\n\nconst instance = new Registry();\n\nexport { instance as Registry };\n","import { Store } from \"../common/store/store\";\nimport { Registry } from \"../common/store/registry\";\n\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const REMOVE_PRODUCT = \"REMOVE_PRODUCT\";\n\nconst ProductsStore = new Store(\"products\", {\n  data: {\n    products: [],\n  },\n  options: {\n    shouldInitFromState: true,\n    stateKey: \"products\",\n  },\n  reducers: [\n    {\n      type: ADD_PRODUCT,\n      action(state, payload) {\n        // const { product } = payload;\n\n        const products = [...state.products, payload];\n\n        return {\n          ...state,\n          products,\n        };\n      },\n    },\n    {\n      type: REMOVE_PRODUCT,\n      action(state, payload) {\n        const products = [...state.products];\n        const index = products.findIndex((product) => product.id === payload);\n\n        if (index !== -1) {\n          products.splice(index, 1);\n        }\n\n        return {\n          ...state,\n          products,\n        };\n      },\n    },\n  ],\n});\n\nRegistry.addStore(ProductsStore);\n\nexport { ProductsStore };\n","import { Store } from \"../common/store/store\";\nimport { Registry } from \"../common/store/registry\";\n\nexport const SET_AUTH = \"SET_AUTH\";\nexport const REMOVE_AUTH = \"REMOVE_AUTH\";\n\nconst AuthStore = new Store(\"auth\", {\n  auth: {\n    login: \"\",\n    password: \"\",\n  },\n  options: {\n    shouldInitFromState: true,\n    stateKey: \"auth\",\n  },\n  reducers: [\n    {\n      type: SET_AUTH,\n      action(state, payload) {\n        const auth = payload.auth;\n        return {\n          auth,\n        };\n      },\n    },\n    {\n      type: REMOVE_AUTH,\n      action(state, payload) {\n        const loginRemove = [...state.auth, payload];\n\n        return {\n          ...state,\n          loginRemove,\n        };\n      },\n    },\n  ],\n});\n\nRegistry.addStore(AuthStore);\n\nexport { AuthStore };\n","import React from \"react\";\nimport { Registry } from \"./common/store/registry\";\n\nexport function withStore(storeName, fill) {\n  const store = Registry.getStore(storeName);\n  return function (Component) {\n    return class extends React.Component {\n      static displayName = Component.displayName;\n\n      constructor(props) {\n        super(props);\n        this.state = { data: store ? store.data : {} };\n\n        this.handleStoreUpdate = this.handleStoreUpdate.bind(this);\n      }\n\n      handleStoreUpdate(data) {\n        this.setState({ data });\n      }\n\n      componentDidMount() {\n        store.subscribe(this.handleStoreUpdate);\n      }\n\n      componentWillUnmount() {\n        store.unsubscribe(this.handleStoreUpdate);\n      }\n\n      render() {\n        return (\n          <Component\n            {...this.props}\n            {...fill(this.state.data)}\n            dispatch={Registry.dispatch}\n          />\n        );\n      }\n    };\n  };\n}\n","import React from \"react\";\nimport \"./product.scss\";\n\nexport class Product extends React.Component {\n  render() {\n    const { product } = this.props;\n    const price = product.price.toLocaleString(\"ru\", {\n      maximumFractionDigits: 2,\n      minimumFractionDigits: 2,\n      currency: \"RUB\",\n      style: \"currency\",\n    });\n\n    return (\n      <div className=\"product\">\n        <div className=\"product-image-frame\">\n          <img\n            className=\"product-image\"\n            src=\"https://s1.ticketm.net/dam/a/3ea/a7473588-64b1-4fac-ad26-596f70b993ea_647801_TABLET_LANDSCAPE_LARGE_16_9.jpg\"\n            alt=\"\"\n          />\n        </div>\n        <div className=\"product-info\">\n          <div className=\"\">\n            <p className=\"product-info-title\">\n              {product.title} - {product.id}\n            </p>\n            <p className=\"product-info-description\">{product.description}</p>\n          </div>\n          <div>\n            <span className=\"product-info-price\">{price}</span>\n          </div>\n        </div>\n        <button\n          onClick={() => {\n            this.props.removeProduct(product.id);\n          }}\n        >\n          delete Item\n        </button>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport s from \"./modal.module.scss\";\r\nlet Modal = (props) => {\r\n  const idInput = React.useRef(null);\r\n  const titleInput = React.useRef(null);\r\n  const descriptionInput = React.useRef(null);\r\n  const priceInput = React.useRef(null);\r\n\r\n  const deleteItem = () => {\r\n    let inst = {\r\n      id: idInput.current.value,\r\n      title: titleInput.current.value,\r\n      description: descriptionInput.current.value,\r\n      price: priceInput.current.value,\r\n    };\r\n    props.AddProduct(inst);\r\n    props.closeModal(inst);\r\n  };\r\n  return (\r\n    <div className={s.address}>\r\n      <div\r\n        className={s.x}\r\n        onClick={() => {\r\n          props.closeModal();\r\n        }}\r\n      >\r\n        <img\r\n          src=\"https://www.pngkey.com/png/full/515-5150375_open-multiply-icon.png\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <input ref={idInput} name=\"id\" placeholder=\"id\" required></input>\r\n      <input ref={titleInput} name=\"title\" placeholder=\"title\" required></input>\r\n\r\n      <input\r\n        ref={descriptionInput}\r\n        name=\"description\"\r\n        placeholder=\"description\"\r\n        required\r\n      ></input>\r\n      <input ref={priceInput} name=\"price\" placeholder=\"price\" required></input>\r\n      <button\r\n        onClick={() => {\r\n          deleteItem();\r\n        }}\r\n      >\r\n        Add card\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\nimport { ADD_PRODUCT, REMOVE_PRODUCT } from \"../../state/stores/ProductsStore\";\nimport { withStore } from \"../../state/withStore\";\nimport { Product } from \"../product\";\nimport Modal from \"./PLModal/modal\";\nimport \"./product-list.scss\";\n\nclass ProductList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalShow: false,\n    };\n  }\n  render() {\n    const { products, dispatch } = this.props;\n    const AddProduct = (data = products[0]) => {\n      dispatch(ADD_PRODUCT, data);\n    };\n    const removeProduct = (id) => {\n      dispatch(REMOVE_PRODUCT, id);\n    };\n    const closeModal = () => {\n      this.setState({ modalShow: false });\n    };\n    return (\n      <div className=\"product-list\">\n        {this.state.modalShow ? (\n          <div className=\"product-list__modal\">\n            <div className=\"product-list__modal-container\">\n              <Modal AddProduct={AddProduct} closeModal={closeModal} />\n            </div>\n          </div>\n        ) : null}\n        <button\n          className=\"product-list-btn\"\n          onClick={() => {\n            this.setState({ modalShow: true });\n          }}\n        >\n          Add new one\n        </button>\n        <div className=\"product-list__inner\">\n          {products.map((product) => (\n            <Product\n              removeProduct={removeProduct}\n              key={product.id}\n              product={product}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStore(\"products\", (data) => data)(ProductList);\n","import React from \"react\";\r\nimport { SET_AUTH } from \"../../state/stores/AuthStore\";\r\nimport { withStore } from \"../../state/withStore\";\r\nimport s from \"./auth.module.scss\";\r\nlet Auth = (props) => {\r\n  const loginInput = React.useRef(null);\r\n  const passInput = React.useRef(null);\r\n  const [log, setlog] = React.useState(0);\r\n  const handleSubmit = function (e) {\r\n    e.preventDefault();\r\n    let data = {\r\n      auth: {\r\n        login: loginInput.current.value,\r\n        pass: passInput.current.value,\r\n      },\r\n    };\r\n    if (data.auth.login === \"superMan\" && +data.auth.pass === 12345) {\r\n      props.dispatch(SET_AUTH, data);\r\n      setlog(true);\r\n      props.closeModal();\r\n    } else {\r\n      setlog(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className={s.container}>\r\n      <form onSubmit={handleSubmit} className={log === false ? s.err : s.form}>\r\n        <div\r\n          className={s.x}\r\n          onClick={() => {\r\n            props.closeModal();\r\n          }}\r\n        >\r\n          <img\r\n            src=\"https://www.pngkey.com/png/full/515-5150375_open-multiply-icon.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <input ref={loginInput} required type=\"text\" placeholder=\"login\" />\r\n        <input\r\n          ref={passInput}\r\n          required\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n        />\r\n        <button>login</button>\r\n        <div className=\"\">login: superMan</div>\r\n        <div className=\"\">pass: 12345</div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default withStore(\"auth\", (data) => data)(Auth);\r\n","import React from \"react\";\nimport \"./state/stores/ProductsStore\";\nimport \"./state/stores/AuthStore\";\nimport \"./index.scss\";\n\nimport ProductList from \"./components/productList\";\nimport Auth from \"./components/auth/auth\";\nimport { SET_AUTH } from \"./state/stores/AuthStore\";\nimport { withStore } from \"./state/withStore\";\n\nexport class AppCom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authShow: false,\n    };\n  }\n\n  render() {\n    const closeModal = () => {\n      this.setState({ authShow: false });\n    };\n    const openModal = () => {\n      this.setState({ authShow: true });\n    };\n    const logOut = () => {\n      let data = {\n        auth: {\n          login: \"\",\n          pass: \"\",\n        },\n      };\n      this.props.dispatch(SET_AUTH, data);\n    };\n\n    return (\n      <main>\n        <Header logOut={logOut} openModal={openModal} />\n        {this.state.authShow ? <Auth closeModal={closeModal} /> : null}\n        <ProductList />\n      </main>\n    );\n  }\n}\nlet HeaderCom = (props) => {\n  return (\n    <div className=\"header\">\n      <div className=\"header__inner\">\n        <div className=\"header__right\">\n          {props.auth.login ? (\n            <h6 className=\"header__title\">{props.auth.login}</h6>\n          ) : null}\n          {props.auth.login === \"\" ? (\n            <div\n              onClick={() => {\n                props.openModal();\n              }}\n              className=\"header__auth header__auth_gr\"\n            >\n              login\n            </div>\n          ) : (\n            <div\n              onClick={() => {\n                props.logOut();\n              }}\n              className=\"header__auth header__auth_rd\"\n            >\n              logOut\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nconst Header = withStore(\"auth\", (data) => data)(HeaderCom);\nexport const App = withStore(\"auth\", (data) => data)(AppCom);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","export const state = {\n  products: {\n    products: [\n      {\n        id: 42355,\n        title: \"Игрушка Король\",\n        description:\n          \"Игрушка Король. Возвраст 5+. Материал плюш. Страна производства - Болгария\",\n        price: 11990,\n      },\n      {\n        id: 63479,\n        title: \"Певец Король\",\n        description:\n          \"Игрушка Король. Возвраст 5+. Материал плюш. Страна производства - Болгария\",\n        price: 18990,\n      },\n      {\n        id: 45018,\n        title: \"Просто Король\",\n        description:\n          \"Игрушка Король. Возвраст 5+. Материал плюш. Страна производства - Болгария\",\n        price: 1400,\n      },\n    ],\n  },\n  auth: {\n    auth: {\n      login: \"\",\n      password: \"\",\n    },\n  },\n};\n","import { state } from \"./state\";\n\nexport class Store {\n  constructor(name, initialConfig = {}) {\n    if (!name) {\n      throw new Error(\"Could not create store without name!\");\n    }\n    const config = {\n      options: this.getOptions(initialConfig.options),\n      reducers: this.getReducers(initialConfig.reducers),\n    };\n\n    this.name = name;\n    this.listeners = [];\n    this.config = config;\n    this.data = initialConfig.data || {};\n    if (this.config.options.shouldInitFromState) {\n      if (!this.config.options.stateKey) {\n        throw new Error(\n          \"shouldInitFromState is true, but stateKey is not stated!\"\n        );\n      }\n      this.initFromGlobalState();\n    }\n  }\n\n  getOptions(options = {}) {\n    const defaultOptions = {\n      shouldEmitAfterSubscription: true,\n      shouldInitFromState: false,\n      stateKey: undefined,\n    };\n\n    return {\n      ...defaultOptions,\n      ...options,\n    };\n  }\n\n  getReducers(reducers = []) {\n    const defaultReducers = [];\n\n    return [...defaultReducers, ...reducers];\n  }\n\n  initFromGlobalState() {\n    const storeData = state[this.config.options.stateKey] || {};\n\n    this.data = { ...this.data, ...storeData };\n  }\n\n  dispatch(type, payload) {\n    for (const reducer of this.config.reducers) {\n      if (reducer.type === type) {\n        if (typeof reducer.action === \"function\") {\n          this.data = reducer.action(this.data, payload);\n        } else {\n          throw new Error(\"Action function must be specified on reducer!\");\n        }\n      }\n    }\n\n    this.__emit();\n  }\n\n  subscribe(listener) {\n    if (this.listeners.findIndex((_l) => _l === listener) !== -1) {\n      return;\n    }\n\n    this.listeners.push(listener);\n\n    if (this.config.options.shouldEmitAfterSubscription) {\n      listener(this.data);\n    }\n  }\n\n  unsubscribe(listener) {\n    const index = this.listeners.findIndex((_l) => _l === listener);\n\n    if (index === -1) {\n      return;\n    }\n\n    this.listeners.splice(index, 1);\n  }\n\n  __emit() {\n    for (const listener of this.listeners) {\n      if (typeof listener === \"function\") {\n        listener(this.data);\n      } else {\n        console.warn(\"listener is not a function!\");\n      }\n    }\n  }\n}\n"],"sourceRoot":""}